<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ÏûÑÎåÄÏ∂îÏ≤ú</title>
  <link rel="icon" type="image/png" href="https://sfinbtiqlfnaaarziixu.supabase.co/storage/v1/object/public/baikuk-images-open/pabicon-baikuk-simbol.png" />
  <link rel="preconnect" href="https://sfinbtiqlfnaaarziixu.supabase.co" crossorigin>
  <link rel="dns-prefetch" href="//sfinbtiqlfnaaarziixu.supabase.co">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    let currentCustomerId = null; // Ï†ÑÏó≠ Î≥ÄÏàòÎ°ú Ï∂îÍ∞Ä
    let whiteBoxExtraGap = 0; // white-box Ïò§Î•∏Ï™Ω Ïó¨Î∞± Ï†ÄÏû•
  </script>
  <link rel="stylesheet" href="./style.css" />
</head>
<body class="w-screen overflow-y-hidden min-h-screen overflow-x-auto">
  <div id="toast" class="fixed top-5 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded shadow-lg z-[9999] hidden">
    Î©îÏãúÏßÄ ÏòÅÏó≠
  </div>
  <div class="absolute top-0 left-0 z-[9998] bg-white w-[13rem] h-[60px] rounded-xl">
    <img src="https://sfinbtiqlfnaaarziixu.supabase.co/storage/v1/object/public/baikuk-images-open/logotype-baikuk.png"
        alt="Í∏ÄÏî®Î°úÍ≥†"
        class="absolute h-11 w-auto cursor-pointer top-2 left-2 z-[9999]"
        onclick="location.reload()" />
  </div>
  <div id="page-title" class="absolute top-[1.5rem] left-[15rem] text-2xl font-bold">
    ÏûÑÎåÄÏ∂îÏ≤ú <span id="selected-customer" class="text-blue-600"></span>
  </div>
  <div class="flex min-h-screen">
    <div class="w-[6%] pt-[5rem] shadow-right text-center bg-white">
      <a href="https://baikuk.com/map"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">Î∞±ÏñµÏßÄÎèÑ</div></a>
      <a href="/admin/mmap/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer mb-5">Î∞±ÏñµÏßÄÎèÑ</div></a>
      <a href="/admin/listings/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">Îß§Î¨ºÏû•Î∂Ä</div></a>
      <a href="/admin/recommend_imDae/"><div class="bg-gray-100 border-l-4 border-gray-500 text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">ÏûÑÎåÄÏ∂îÏ≤ú</div></a>
      <a href="/admin/recommend_maeMae/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">Îß§Îß§Ï∂îÏ≤ú</div></a>
      <a href="/admin/customer_manage/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer mb-5">Î™®Îì†Í≥†Í∞ù</div></a>
      <a href="/admin/ad_censorship/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">Í¥ëÍ≥†Í¥ÄÎ¶¨</div></a>
      <a href="/admin/staff_manage/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">ÏßÅÏõêÏ†ïÎ≥¥</div></a>
      <a href="/admin/performance/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">Îß§Ï∂ú</div></a>
      <a href="/admin/cost_management/"><div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer">ÎπÑÏö©</div></a>
      <a id="settlement-tab" href="/admin/settlement/" style="display:none">
        <div class="text-lg font-extrabold px-2 py-1 rounded hover:bg-gray-200 cursor-pointer mb-5">Ï†ïÏÇ∞</div>
      </a>
    </div>
    <div id="customer-col" class="bg-gray-100 w-[14%] pt-[2rem] shadow-right relative z-[10] text-left">
      <!-- ‚≠ê Ïã†Í∑ú Í≥†Í∞ù Î≤ÑÌäº (Ïò§Î•∏Ï™Ω Ï†ïÎ†¨) -->
      <div class="flex justify-end px-2 mb-2">
        <button id="new-customer-btn"
          class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm font-semibold">
          ÏÉà Í≥†Í∞ù
        </button>
      </div>
      <div id="customer-list" class="overflow-y-auto max-h-[calc(100vh-5rem)]">
        <!-- Ïó¨Í∏∞Ïóê Í≥†Í∞ù Ïù¥Î¶ÑÎì§Ïù¥ ÌëúÏãúÎê©ÎãàÎã§ -->
      </div>
    </div>
    <div class="w-[84%] flex flex-col bg-gray-100 overflow-y-auto min-h-0 h-screen">
      <div class="mt-[2rem] flex px-3 bg-gray-100">
        <div class="text-left text-base rounded outline-none resize-none">
          <!-- [ADD] Îß§Î¨º Ìå®ÎÑê ÏÉÅÎã®:  ÏóÖÎç∞Ïù¥Ìä∏ ÌëúÏãúÏ§Ñ -->
          <div class="flex items-center gap-2 text-sm mb-2">
            <span id="employee-listings-meta" class="font-medium">Î∂àÎü¨Ïò§Îäî Ï§ë‚Ä¶</span>
          </div>
          <textarea
            placeholder="Í≥†Í∞ùÏù¥Î¶Ñ"
            class="border border-gray-300 px-2 rounded ml-1 w-full text-left text-base resize-none"
            id="top-row-input"
            rows="2"
          ></textarea>
          <!-- üîΩ Î¶¨Ïä§Ìä∏ Ïù¥Î¶Ñ ÏûÖÎ†• -->
          <input
            id="list-name-input"
            placeholder="Î¶¨Ïä§Ìä∏ Ïù¥Î¶Ñ"
            class="border border-gray-300 px-2 rounded ml-1 w-full text-left text-base mt-2 h-[2rem]"
          />
          <div class="flex mt-[0.5rem]">
            <button id="delete-customer" class="ml-1 h-[2.3rem] bg-rose-500 hover:bg-rose-600 text-white text-sm px-4 py-1 rounded font-bold">
              ÏÇ≠Ï†ú
            </button>
            <button id="save-new-customer" class="ml-auto h-[2rem] bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-1 rounded font-bold">
              Ï†ÄÏû•
            </button>
          </div>
          <div class="flex mt-[0.5rem]">
            <div class="flex">
              <div class="ml-1 mt-1">Íµ¨Î∂Ñ:</div>
              <select id="customer-grade" class="ml-1 px-1 h-[2rem] text-left box-border border border-gray-300 rounded text-base">
                <option >A</option>
                <option >B</option>
                <option >C</option>
                <option >F</option>
                <option>Í≥ÑÏïΩ</option>
              </select>
            </div>
            <input id="customer-phone" placeholder="Ï†ÑÌôîÎ≤àÌò∏" class="w-[10rem] ml-auto px-1 h-[2rem] text-left box-border border border-gray-300 rounded text-base">
          </div>
          <textarea id="memo-textarea" placeholder="Î©îÎ™®" class="mt-[0.5rem] ml-1 px-1 pt-1 w-[17rem] h-[40rem] box-border text-left text-base border border-gray-300 rounded bg-white outline-none resize-none"></textarea>
          <!-- üîΩ Ïó¨Í∏∞Ïóê ÏÉà ÌïÑÌÑ∞ ÏòÅÏó≠ Ï∂îÍ∞Ä -->
          <div class="ml-1 mt-4 p-3 bg-white border border-gray-300 rounded text-sm w-[17rem]">
            <!-- Ï∏µ -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">Ï∏µ</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="floor-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="floor-max">
            </div>
            </div>

            <!-- Ï†ÑÏö©Î©¥Ï†Å -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">Î©¥Ï†Å(Ìèâ)</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="area-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="area-max">
            </div>
            </div>

            <!-- Î≥¥Ï¶ùÍ∏à -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">Î≥¥Ï¶ùÍ∏à</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="deposit-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="deposit-max">
            </div>
            </div>

            <!-- ÏõîÏÑ∏ -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">ÏõîÏÑ∏</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="rent-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="rent-max">
            </div>
            </div>

            <!-- ÌèâÎãπ ÏõîÏÑ∏ -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">ÌèâÏõîÏÑ∏</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="rent-per-py-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="rent-per-py-max">
            </div>
            </div>

            <!-- Í∂åÎ¶¨Í∏à -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">Í∂åÎ¶¨Í∏à</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="premium-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="premium-max">
            </div>
            </div>

            <!-- Îß§Îß§Í∞Ä -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">Îß§Îß§Í∞Ä</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="sale-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="sale-max">
            </div>
            </div>

            <!-- Ï¥ùÎ≥¥Ï¶ùÍ∏à -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">Ï¥ùÎ≥¥Ï¶ùÍ∏à</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="total-deposit-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="total-deposit-max">
            </div>
            </div>

            <!-- Ï¥ùÏõîÏÑ∏ -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">Ï¥ùÏõîÏÑ∏</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="total-rent-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="total-rent-max">
            </div>
            </div>

            <!-- ÏàòÏùµÎ•† -->
            <div class="flex flex-row items-center mb-3">
            <div class="font-semibold w-[9rem]">ÏàòÏùµÎ•†(%)</div>
            <div class="flex gap-2 w-full">
                <input type="number" placeholder="Ïù¥ÏÉÅ" class="w-full px-2 py-1 border rounded" id="roi-min">
                <input type="number" placeholder="Ïù¥Ìïò" class="w-full px-2 py-1 border rounded" id="roi-max">
            </div>
            </div>

          </div>
          <!-- üîº ÌïÑÌÑ∞ ÏòÅÏó≠ ÎÅù -->

        </div>
        <div class="ml-3 mt-[1rem] flex flex-col">
          <div class="mb-2 px-2 text-right flex gap-2">
            <button id="print-btn" class="h-[2rem] bg-gray-500 hover:bg-gray-600 text-white text-sm px-4 py-1 rounded">
              üñ®Ô∏è
            </button>
            <button id="print-btn2" class="h-[2rem] bg-neutral-400 hover:bg-neutral-500 text-white text-sm px-4 py-1 rounded">
              üñ®Ô∏è
            </button>
          </div>
          <div class="pt-2 px-2 py-2bg-white border border-gray-300 rounded-md"> <!-- Îß§Î¨ºÎ≤àÌò∏ ÌÖåÏù¥Î∏î Ï†ÑÏ≤¥ -->
            <div class="mb-2 justify-center flex gap-2">
              <button id="clear-left-btn" class="h-[2rem] w-[3.5rem] bg-rose-500 hover:bg-rose-600 text-white font-bold text-sm px-1 py-1 rounded">
                ÏßÄÏö∞Í∏∞
              </button>
              <button id="copy-link-btn" class="h-[2rem] w-[3rem] bg-[#F2C130] hover:bg-[#E0B120] text-black font-bold px-1 py-1 rounded mr-2">
                ÎßÅÌÅ¨
              </button>
            </div>
            <div id="table-container" class="border rounded-md">
              <table class="w-[7rem] text-sm text-left">
                <thead class="bg-gray-100 sticky top-0 z-10">
                  <tr id="header-row">
                    <th class="p-1 font-bold text-base text-center">Îß§Î¨ºÎ≤àÌò∏</th>
                  </tr>
                </thead>
                <tbody id="left-tbody" class="bg-white">
                </tbody>
              </table>
            </div>
          </div>
        </div>        
        <div id="white-box" class="ml-1 px-4 py-4 bg-white rounded-md self-start relative flex-shrink-0">
          <div id="table-container" class="custom-scroll bg-white rounded-md">
            <div id="print-block">              
              <div class="flex items-end mb-2 gap-3">
                <img
                  src="https://sfinbtiqlfnaaarziixu.supabase.co/storage/v1/object/public/biakuk-images//baikuk-logo-yellow_simbol_name.png"
                  alt="Î∞±ÏñµÎ°úÍ≥†"
                  class="w-[25rem]"
                />
                <div class="justify-between items-end mb-2">
                  <!-- ÎÇ†Ïßú -->
                  <div id="today-date" class="text-gray-600 text-sm font-semibold"></div>
                  <!-- Îã¥ÎãπÏûê -->
                  <div id="staff-info-container" class="text-gray-800 text-lg font-semibold relative">
                    <!-- ÏßÅÏõê Ï†ïÎ≥¥ ÌëúÏãúÎ∂Ä -->
                    <div id="staff-info"
                        class="cursor-pointer px-2 py-1 rounded hover:bg-gray-200 select-none">
                    </div>
                    <!-- ÎìúÎ°≠Îã§Ïö¥ -->
                    <div id="staff-dropdown"
                      class="hidden fixed bg-white border rounded shadow-lg z-[9999] max-h-60 overflow-y-auto">
                  </div>
                  </div>
                </div>
              </div>
              <table>
                <thead>
                  <tr id="header-row">
                    <th class="resizable" style="width: 1.6rem;">
                      <div class="resize-handle"></div>
                    </th>
                    <th class="resizable" style="width: 14rem;">
                      Îß§Î¨ºÎ™Ö <div class="resize-handle"></div>
                    </th>
                    <th class="resizable" style="width: 11rem;">
                      Ï£ºÏÜå <div class="resize-handle"></div>
                    </th>
                    <th class="resizable" style="width: 5rem;">
                      Î≥¥Ï¶ùÍ∏à <div class="resize-handle"></div>
                    </th>
                    <th class="resizable" style="width: 3.5rem;">
                      ÏõîÏÑ∏ <div class="resize-handle"></div>
                    </th>
                    <th class="resizable" style="width: 5rem;">
                      Í∂åÎ¶¨Í∏à <div class="resize-handle"></div>
                    </th>
                    <th class="resizable" style="width: 4.3rem;">
                      Ï†ÑÏö©(Ìèâ) <div class="resize-handle"></div>
                    </th>
                    <th class="resizable" style="width: 13rem;">
                      ÎÇ¥Ïö© <div class="resize-handle"></div>
                    </th>
                  </tr>
                </thead>
                <tbody id="listings-body"></tbody>
              </table>
            </div>  
          </div>
          <!-- Ïò§Î•∏Ï™Ω Î¶¨ÏÇ¨Ïù¥Ï¶à Ìï∏Îì§ -->
          <div id="whitebox-resize-handle"
              style="
                  position: absolute;
                  top: 0;
                  right: -4px;
                  width: 8px;
                  height: 100%;
                  cursor: ew-resize;
                  z-index: 50;
              ">
          </div>
        </div>
        <div class="ml-3 mt-[6.2rem] flex flex-col">
          <div class="pt-2 px-2 py-2 bg-white border border-gray-300 rounded-md">
            <!-- Ïò§Î•∏Ï™Ω(Ïä§ÌÅ¨Î¶∞ÏÉ∑ Ï†úÏô∏) Î©îÎ™® Ìëú -->
            <div id="memo-panel" class="print:hidden sticky top-2">
              <table class="w-[20rem] border-collapse">
                <thead>
                  <tr>
                    <td class="p-1 border-b border-gray-200 align-top">
                      Î©îÎ™®
                    </th>
                  </tr>
                </thead>
                <tbody id="memo-body"></tbody>
              </table>
            </div>
          </div>
        </div>          
      </div>
    </div>
  </div>  
  <script type="module" src="./recommend-imDae.js"></script>
  <script src="./recommend-imDae-main.js"></script>
  <!-- === [Ï†ÄÏû• Í∞úÏÑ†] Îã®Ïàú ÎçÆÏñ¥Ïì∞Í∏∞ Î™®Îã¨ === -->
  <div id="dup-customer-modal" class="fixed inset-0 bg-black/30 hidden items-center justify-center z-[9999]">
    <div class="bg-white w-[440px] max-w-[92vw] rounded-2xl shadow-2xl overflow-hidden">
      <div class="px-5 py-3 border-b font-semibold text-lg">
        Í∞ôÏùÄ Ïù¥Î¶ÑÏùò Í≥†Í∞ùÏù¥ Ïù¥ÎØ∏ ÏûàÏäµÎãàÎã§
      </div>
      <div class="p-5 space-y-3 max-h-[60vh] overflow-auto">
        <p class="text-sm text-gray-700">
          ÌòÑÏû¨ ÏûÖÎ†•Ìïú ÎÇ¥Ïö©ÏúºÎ°ú <b>Í∏∞Ï°¥ Í≥†Í∞ù Ï†ïÎ≥¥Î•º ÎçÆÏñ¥Ïì∞ÏãúÍ≤†ÏäµÎãàÍπå?</b>
        </p>
        <!-- ÏÑ†ÌÉù Î¶¨Ïä§Ìä∏Îäî ÏÇ¨Ïö© ÏïàÌï® -->
      </div>
      <div class="px-5 py-4 border-t flex items-center gap-2 justify-end bg-gray-50">
        <button id="dup-overwrite" class="px-4 py-2 rounded-xl bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold">
          ÎçÆÏñ¥Ïì∞Í∏∞
        </button>
        <button id="dup-cancel" class="px-3 py-2 rounded-xl text-gray-600 hover:bg-gray-200 text-sm">
          Ï∑®ÏÜå
        </button>
      </div>
    </div>
  </div>
  <div id="color-picker-popup" 
      class="fixed bg-white shadow-lg rounded-lg p-2 border hidden z-[9999] w-[15rem]">
    <div class="flex gap-2">
      <div class="color-option w-6 h-6 rounded cursor-pointer" data-color="none" style="background: repeating-linear-gradient(
        45deg,
        #fff,
        #fff 5px,
        #ccc 5px,
        #ccc 10px
      );"></div>
      <div class="color-option w-6 h-6 rounded cursor-pointer" data-color="#ffecec"></div>
      <div class="color-option w-6 h-6 rounded cursor-pointer" data-color="#fff7d4"></div>
      <div class="color-option w-6 h-6 rounded cursor-pointer" data-color="#eaffea"></div>
      <div class="color-option w-6 h-6 rounded cursor-pointer" data-color="#e9f3ff"></div>
      <div class="color-option w-6 h-6 rounded cursor-pointer" data-color="#f3e9ff"></div>
      <div class="color-option w-6 h-6 rounded cursor-pointer" data-color="#e5e7eb"></div>
      <div class="color-option w-6 h-6 rounded cursor-pointer flex items-center justify-center"
          data-color="strike"
          style="font-size: 18px; font-weight: bold; line-height: 1;">
        -
      </div>
    </div>
  </div>
</body>
</html>
